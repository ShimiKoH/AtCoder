## [AtCode Beginner Contest abc019_D 高橋くんと木の直径](https://atcoder.jp/contests/abc019/tasks/abc019_4)

## 問題
高橋くんは木の直径を求めるのに夢中である。木とは、頂点とそれを結ぶ辺からなる構造「グラフ」の $1$ 種で、辺は $N-1$ 本あり、どの頂点もほかのすべてに辺で直接・間接的につながっている。
この問題では、辺には整数の重みがついている。 $2$ 頂点間の距離を、その $2$ つの頂点をつなぐ辺の重みの和と定義する。
木の直径とは、最も離れた $2$ つの頂点の間の距離である。

高橋くんは、頂点の数と $2$ 頂点間の距離の情報から、木の直径を求めることに興味が出てきた。この問題では、あなたは木の頂点の数 $N$ が最初に与えられ、 $2$ 頂点の間の距離を尋ねる質問を何回か行い、木の直径を求める。
ただし、 $2$ 頂点間の距離を聞く回数には制限がある。
制限された質問の回数以内で木の直径を求めるプログラムを書きなさい。

## 入出力
まず、木の頂点の数 $N$ が標準入力に与えられる。
```math
N
```
続いて、あなたのプログラムは何回か応答プログラムに質問をする。質問のフォーマットは以下のとおりである。
```math
\begin{matrix}
\text{?} & a & b
\end{matrix}
```
この質問で、 $a,b$ 間の距離が標準入力に $1$ 行で渡される。このとき $1 \leqq a,b \leqq N$ かつ $a \ne b$ を満たしていなければならない。
何回か質問を行った後、あなたは木の直径を当てる。木の直径を $diameter$ とおくと、
```math
\begin{matrix}
\text{!} & diameter
\end{matrix}
```
というフォーマットで出力する。木の直径を出力した後、あなたのプログラムは直ちに終了しなければならない。終了しなかった場合のジャッジ結果は不定である。
また、これら以外のフォーマットで出力した場合のジャッジ結果も不定である。
この問題ではテストケースごとに質問回数の上限値が設定されており、プログラムの行った質問の回数がその上限値を上回ると誤答と判定される。
正答かどうかは木の直径の出力で判断される。木の直径を解く英紙得ない質問しかしていない場合でも、直径が正しければ正答となる。

## 制約
- $2 \leqq N \leqq 50$
- $1 \leqq (\text{それぞれの辺の重み}) \leqq 10^6$
- 質問回数の上限値は $100$ 回である。

***

## 解き方
木の直径を求めるには、まず任意の点 $v_a$ に対して、最も距離の遠い頂点 $v_b$ を取得する。その $v_b$ に対して、最も遠い頂点 $v_c$ との距離が木の直径である。

[証明](https://github.com/ShimiKoH/AtCoder/blob/main/algorithm/graph_theory.md#%E5%95%8F%E9%A1%8C-1)

## コード
### [C++](abc019_d.cpp)