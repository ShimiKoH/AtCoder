## [JOIG2021_D 展覧会](https://atcoder.jp/contests/joig2021-open/tasks/joig2021_d)

<details>
<summary><b>問題を確認</b></summary>

## 問題
JOI美術館には、東西方向にまっすぐ伸びる廊下に $N$ 枚の絵が飾られており、 $1$ から $N$ までの番号が付けられている。絵 $i(1 \leqq i \leqq N)$ は廊下の西側から $X_i$ メートルの位置に飾られており、その価値は $V_i$ である。
この美術館では明日から「エゴイ展」が開催されつ予定であり、非常に多くの来客が見込まれている。「エゴイ展」では $M$ 枚の絵を展示する予定である。
$2$ つの絵が近い位置に展示されていると見づらいので、以下の条件を満たすように $N-M$ 枚の絵を取り外し、廊下に $M$ 枚の絵だけを残すことにした。
- どの $2$ つの絵についても、位置が $D$ メートル以上離れているようにする。

展示されている $M$ 枚の絵の価値の最小値を、「エゴイ展」の<b>華やかさ</b>とする。あなたは、廊下に残す $M$ 枚の絵をうまく選ぶことで、「エゴイ展」の華やかさをできるだけ大きくしたい。
$N$ 枚の絵の情報と廊下に残す絵の枚数が与えられたとき、条件を満たすような絵の残し方が存在するか判定し、もし存在する場合は、「エゴイ展」の華やかさの最大値を求めるプログラムを作成せよ。

## 制約
- $1 \leqq N \leqq 100 \ 000$
- $1 \leqq M \leqq N$
- $1 \leqq D \leqq 1 \ 000 \ 000 \ 000$
- $1 \leqq X_i \leqq 1 \ 000 \ 000 \ 000(1 \leqq i \leqq N)$
- $X_i \ne X_j(1 \leqq i \lt j \leqq N)$
- $1 \leqq V_i \leqq 1 \ 000 \ 000 \ 000(1 \leqq i \leqq N)$
- 入力される値はすべて整数である

## 入力
入力は以下の形式で標準入力から与えられる
```math
\begin{matrix}
& N & M & D \\
& X_1 & V_1 \\
& X_2 & V_2 \\
& \vdots \\
& X_N & V_N
\end{matrix}
```

## 出力
条件を満たすような絵の残し方が存在しない場合、標準出力に`-1`を1行で出力せよ。
条件を満たすような絵の残し方が存在する場合、標準出力に「エゴイ展」の華やかさの最大値を $1$ 行で出力せよ。
</details>


## 解き方
愚直に解く場合、$N$ 枚の絵から任意の $M$ 枚を選んで、条件を満たすか判定する方法が思い浮かぶ。選択の時点で計算量は<b>組み合わせ爆発</b>を起こす。

次に思い浮かぶのは、解の二分探索である。任意の点数 $G$ に対して、廊下の西から、以下の条件を満たすかを判定する。
- $1$ つ西側の絵との距離が $D$ 以上 である
    $ \Leftrightarrow X_j - X_{j-1} \geqq D \ (2 \leqq j \leqq M)$
- すべての絵の価値は $G$ 以上である
    $ \Leftrightarrow V_j \geqq G \ (1 \leqq j \leqq M)$

ただし、$j$ は、最終的に展示する $M$ 枚の絵に西から付けた番号である。
計算量は、判定に $\mathcal{O}(N)$ 、二分探索に $\mathcal{O}(\log (\max D)) \leqq \mathcal{O}(\log 1000000000) \simeq 30$

## 実装
実装時の注意
- 解が存在しないこと $=$ 華やかさが $0$ 以上にならないと捉え、二分探索の左端を $-1$ で閉じる
- 解は最大で絵の価値 $V_i$ の最大値 $1 \ 000 \ 000 \ 000$ をとり、この値は解となりうるので、二分探索の右端は $1 \ 000 \ 000 \ 001$ で開ける

## コード
### [C++](joig2021_d.cpp)
