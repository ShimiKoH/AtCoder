## [ZONeエナジープログラミングコンテスト $``$HELLO SPACE$"$](https://atcoder.jp/contests/zone2021/tasks/zone2021_c)

## ストーリー
さて、本格的に UFO と対峙する仲間を集めることにしよう。それも、とびきり MAD で優秀な。
俺は数多の天才たちと競い合ってきた「AtCoder」上でメンバーを集めることにした。
名の知れたプログラマに片っ端から声をかけてもいいが、どうせなら得意分野のバランスが良い少数精鋭で最高なチームを作るとしよう。

## 問題
$N$ 人のメンバー候補がおり、それぞれの人は、パワー・スピード・テクニック・知識・発想力の5種類の能力値を持っている。
$i$ 番目の人のパワーは $A_i$、スピードは $B_i$、テクニックは $C_i$、知識は $D_i$、発想力は $E_i$ である。
あなたは、$N$ 人のメンバー候補から $3$ 人を選び、$1$ つのチームを作る。
チーム全体のパワーをチームメンバーの最大値で定義、スピード・テクニック・知識・発想力についても同様に定義する。
チームの総合力を、チーム全体のパワー・スピード・テクニック・知識・発想力の最小値で定義する。
チームの総合力としてあり得る最大値を求めなさい。

## 制約
- 入力はすべて整数
- $3 \leq N \leq 3000$
- $1 \leq A_i,B_i,C_i,D_i,E_i \leq 10^9$

## 入力
入力は以下の形式で標準入力から与えられる。
```math
\begin{matrix}
& N \\
& A_1 & B_1 & C_1 & D_1 & E_1 & \\
& A_2 & B_2 & C_2 & D_2 & E_2 & \\
& \vdots \\
& A_N & B_N & C_N & D_N & E_N & \\
\end{matrix}
```

## 出力
答えを出力せよ。

***

## 解き方
解の二分探索によって求める。
任意の数値 $V$ に対して、チームメンバーの得意分野の能力値が $V$ 以上であるような $V$ のうち、最大のものを探す。 
$\Downarrow$
任意の数値 $V$ に対して、少なくとも $1$ つの分野の能力値が $V$ 以上であるメンバー候補を選び、合計 $3$ 人を選んだ時、$5$ つの分野の最大値が $V$ を超える組み合わせの有無を判定。
愚直に $3$ 人を選ぶ組み合わせを考えると計算量は $\mathcal{O}(N^3)$ でやや遅い。  
判定に欲しい情報は、
1. メンバーごとの各分野の能力値が $V$ を超えているか否か
2. $3$ 人を選んだチームの総合力が $V$ を超えているか
$\Rightarrow$ $3$ 人を選んだチームの各能力が $V$ を超えているか

この $2$ つをうまく用いることで、チームの総合力の判定を素早く行える。
$X,Y$ の $2$ 人について、個人やチームの各能力値が $V$ 以上の状態を $T$ 、
$V$ 未満の状態を $F$ とすると、例えば以下のような能力の場合、
```math
\begin{array}{c||c|c|c|c|c}
X       & T & F & T & T & F \\
Y       & F & T & T & F & F \\
team    & T & T & T & T & F
\end{array}
```
のようになる。$T$ を $1$ 、 $F$ を $0$ に置き換え、間の線を消すと
```math
\begin{array}{c||ccccc}
X       & 1 & 0 & 1 & 1 & 0 \\
Y       & 0 & 1 & 1 & 0 & 0 \\
team    & 1 & 1 & 1 & 1 & 0
\end{array}
```
となる。
チームの総合力が $V$ 以上であることは
```math
\begin{array}{c||ccccc}
team    & 1 & 1 & 1 & 1 & 1
\end{array}
```
であることに同じであるため、判定を数値 $31$ との比較に落とし込むことができる。
また、メンバーの番号は聞かれておらず、条件を満たすようにメンバーを選ぶこと自体ができるかを聞かれているので、$\textrm{set}$ を用いて、 $5$ 桁 $2$ 進数を格納するコンテナに、各メンバーの能力値情報を重複なしで挿入する手法をとる。計算量は、最初に $\textrm{set}$ へ挿入するために $\mathcal{O}(N)$ を要するが、その後は高々${}_{32}\textrm{C}_3 \simeq 5000$ に収まる。


## コード
### [C++](zone2021_c.cpp)
### [C++ <span style="font-size:70%">(実行時間エラー)</span>](zone2021_c_2.cpp)
